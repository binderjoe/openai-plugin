# Building an Open AI plugin with Codespaces
‚òÅÔ∏è **To deploy your app on Azure using Azure Developer CLI and Container Apps, see the [demo-azd](https://github.com/minsa110/devcontainer-fastapi/tree/demo-azd) branch.**

This is a sample repo for developing OpenAI plugin using the FastAPI framework. There are two main parts of the repo:
- Code to help setup development environment for FastAPI framework
- Code for the FastAPI app

## üì¶ Code to help setup development environment

### **.devcontainer**
The `.devcontainer` folder contains files for defining a containerized development environment, specific to building this FastAPI app. It's set up in a way that makes it easy for you to use with GitHub Codespaces as well: launch a Codespace using this template, and you're ready to start developing! Learn more about devcontainers [here](https://containers.dev/).

### **.vscode**
The `.vscode` folder contains:
- `json.code-snippets` file that helps to quickly write the manifest file for the OpenAI plugin. (‚ú® Type `manifest-openai` then press `tab` to quickly generate a fill-in-the-blank manifest)
- `settings.json` file that helps to validate the manifest file (`ai-plugin.json`) against [this schema](https://github.com/minsa110/ai-plugin-schema/blob/main/ai-plugin-schema.json).
- `launch.json` file that helps to customize **Run and Debug**.

## üíª Code for the FastAPI app
To test the app, run `uvicorn main:app` in the integrated terminal, or press `F5`, and debug CRUD operations at .../docs.

- `main.py` was the plugin code generated by Copilot. Learn more about Copilot here. The prompt used here is:
   ```markdown
   Write a simple TODO app using FastAPI, that lets the user add TODOs, list their TODOs, and delete TODOs, ensuring that the app stores item_id for each todo item.
 
   Include a __main__ section which will run this app using uvicorn. The Python module where I save this code will be called main.py.
 
   In addition to the normal endpoints, include a route .well-known/ai-plugin.json which serves (as JSON) the contents of ./ai-plugin.json, located in the same directory as main.py. Exclude this route from the OpenAPI spec, and don't serve any other static content.
   ```
- `ai-plugin.json` is a JSON manifest file that defines relevant metadata for the plugin.

## üí¨ Register the app on ChatGPT
- Go to **PORT** and set visibility of port 8000 to `public`
- Copy the link and paste it to ChatGPT plugin
